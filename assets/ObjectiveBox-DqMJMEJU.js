import{j as o}from"./jsx-runtime-DFnSfiB4.js";import{r}from"./index-DQ2WTIsS.js";import{u as v,C as x,i as I,I as W}from"./Comment-CLRktOpt.js";function A(){var n="/home/runner/work/pufu-editor/pufu-editor/src/components/ObjectiveBox.tsx",l="f0d9a04c2c14eba6b641335f728d93be5d072274",t=window,c="__coverage__",s={path:"/home/runner/work/pufu-editor/pufu-editor/src/components/ObjectiveBox.tsx",statementMap:{0:{start:{line:7,column:28},end:{line:133,column:1}},1:{start:{line:19,column:26},end:{line:19,column:45}},2:{start:{line:20,column:32},end:{line:20,column:54}},3:{start:{line:21,column:48},end:{line:23,column:3}},4:{start:{line:24,column:23},end:{line:27,column:3}},5:{start:{line:25,column:4},end:{line:25,column:28}},6:{start:{line:26,column:4},end:{line:26,column:50}},7:{start:{line:28,column:30},end:{line:31,column:3}},8:{start:{line:29,column:4},end:{line:29,column:25}},9:{start:{line:30,column:4},end:{line:30,column:47}},10:{start:{line:32,column:14},end:{line:35,column:3}},11:{start:{line:36,column:15},end:{line:36,column:74}},12:{start:{line:37,column:24},end:{line:37,column:45}},13:{start:{line:38,column:2},end:{line:41,column:13}},14:{start:{line:39,column:4},end:{line:39,column:23}},15:{start:{line:40,column:4},end:{line:40,column:29}},16:{start:{line:42,column:2},end:{line:132,column:7}},17:{start:{line:111,column:16},end:{line:111,column:53}},18:{start:{line:135,column:0},end:{line:135,column:1820}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:18,column:6},end:{line:133,column:1}},line:18},1:{name:"(anonymous_1)",decl:{start:{line:24,column:23},end:{line:24,column:24}},loc:{start:{line:24,column:30},end:{line:27,column:3}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:28,column:30},end:{line:28,column:31}},loc:{start:{line:28,column:44},end:{line:31,column:3}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:38,column:12},end:{line:38,column:13}},loc:{start:{line:38,column:18},end:{line:41,column:3}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:110,column:23},end:{line:110,column:24}},loc:{start:{line:110,column:29},end:{line:112,column:15}},line:110}},branchMap:{0:{loc:{start:{line:11,column:2},end:{line:11,column:20}},type:"default-arg",locations:[{start:{line:11,column:13},end:{line:11,column:20}}],line:11},1:{loc:{start:{line:12,column:2},end:{line:12,column:18}},type:"default-arg",locations:[{start:{line:12,column:13},end:{line:12,column:18}}],line:12},2:{loc:{start:{line:13,column:2},end:{line:13,column:17}},type:"default-arg",locations:[{start:{line:13,column:12},end:{line:13,column:17}}],line:13},3:{loc:{start:{line:14,column:2},end:{line:14,column:14}},type:"default-arg",locations:[{start:{line:14,column:9},end:{line:14,column:14}}],line:14},4:{loc:{start:{line:15,column:2},end:{line:15,column:16}},type:"default-arg",locations:[{start:{line:15,column:11},end:{line:15,column:16}}],line:15},5:{loc:{start:{line:17,column:2},end:{line:17,column:20}},type:"default-arg",locations:[{start:{line:17,column:13},end:{line:17,column:20}}],line:17},6:{loc:{start:{line:22,column:4},end:{line:22,column:43}},type:"binary-expr",locations:[{start:{line:22,column:4},end:{line:22,column:11}},{start:{line:22,column:15},end:{line:22,column:43}}],line:22},7:{loc:{start:{line:36,column:15},end:{line:36,column:74}},type:"cond-expr",locations:[{start:{line:36,column:42},end:{line:36,column:57}},{start:{line:36,column:60},end:{line:36,column:74}}],line:36},8:{loc:{start:{line:43,column:4},end:{line:55,column:8}},type:"binary-expr",locations:[{start:{line:43,column:4},end:{line:43,column:27}},{start:{line:43,column:32},end:{line:43,column:40}},{start:{line:43,column:44},end:{line:43,column:51}},{start:{line:43,column:56},end:{line:43,column:71}},{start:{line:43,column:91},end:{line:55,column:8}}],line:43},9:{loc:{start:{line:69,column:114},end:{line:69,column:148}},type:"binary-expr",locations:[{start:{line:69,column:114},end:{line:69,column:119}},{start:{line:69,column:123},end:{line:69,column:148}}],line:69},10:{loc:{start:{line:83,column:14},end:{line:83,column:45}},type:"binary-expr",locations:[{start:{line:83,column:14},end:{line:83,column:20}},{start:{line:83,column:24},end:{line:83,column:45}}],line:83},11:{loc:{start:{line:89,column:27},end:{line:89,column:79}},type:"cond-expr",locations:[{start:{line:89,column:37},end:{line:89,column:39}},{start:{line:89,column:42},end:{line:89,column:79}}],line:89},12:{loc:{start:{line:89,column:42},end:{line:89,column:79}},type:"binary-expr",locations:[{start:{line:89,column:42},end:{line:89,column:47}},{start:{line:89,column:51},end:{line:89,column:79}}],line:89},13:{loc:{start:{line:97,column:10},end:{line:116,column:11}},type:"binary-expr",locations:[{start:{line:97,column:11},end:{line:97,column:19}},{start:{line:97,column:23},end:{line:97,column:30}},{start:{line:97,column:34},end:{line:97,column:46}},{start:{line:97,column:67},end:{line:116,column:11}}],line:97},14:{loc:{start:{line:102,column:16},end:{line:102,column:83}},type:"cond-expr",locations:[{start:{line:102,column:43},end:{line:102,column:63}},{start:{line:102,column:66},end:{line:102,column:83}}],line:102},15:{loc:{start:{line:120,column:4},end:{line:131,column:8}},type:"binary-expr",locations:[{start:{line:120,column:4},end:{line:120,column:28}},{start:{line:120,column:33},end:{line:120,column:41}},{start:{line:120,column:45},end:{line:120,column:52}},{start:{line:120,column:57},end:{line:120,column:72}},{start:{line:120,column:92},end:{line:131,column:8}}],line:120}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0],5:[0],6:[0,0],7:[0,0],8:[0,0,0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0,0],14:[0,0],15:[0,0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/pufu-editor/pufu-editor/src/components/ObjectiveBox.tsx"],names:["i18n","comment"],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f0d9a04c2c14eba6b641335f728d93be5d072274"},e=t[c]||(t[c]={});(!e[n]||e[n].hash!==l)&&(e[n]=s);var u=e[n];return A=function(){return u},u}A();A().s[0]++;const h=({goal:n,label:l,onChange:t,scoreKey:c=(A().b[0][0]++,"score"),feedback:s=(A().b[1][0]++,!1),preview:e=(A().b[2][0]++,!1),dark:u=(A().b[3][0]++,!1),mobile:y=(A().b[4][0]++,!1),i18n:a,textSize:d=(A().b[5][0]++,"small")})=>{A().f[0]++;const[E,b]=(A().s[1]++,r.useState(n.text)),[C,f]=(A().s[2]++,r.useState(n.comment)),[p,M]=(A().s[3]++,r.useState((A().b[6][0]++,e&&(A().b[6][1]++,n.comment.text.length>0))));A().s[4]++;const Q=m=>{A().f[1]++,A().s[5]++,b(m.target.value),A().s[6]++,t==null||t({...n,text:m.target.value})};A().s[7]++;const B=m=>{A().f[2]++,A().s[8]++,f(m),A().s[9]++,t==null||t({...n,comment:m})},g=(A().s[10]++,{WinCondition:`${c}-win-condition-${n.uuid}`,GainingGoal:`${c}-gaining-goal-${n.uuid}`}),i=(A().s[11]++,l==="WinCondition"?(A().b[7][0]++,"win-condition"):(A().b[7][1]++,"gaining-goal")),S=(A().s[12]++,v(d));return A().s[13]++,r.useEffect(()=>{A().f[3]++,A().s[14]++,b(n.text),A().s[15]++,f(n.comment)},[n]),A().s[16]++,o.jsxs("div",{role:i,"aria-label":"box",children:[(A().b[8][0]++,l==="GainingGoal"&&(A().b[8][1]++,s||(A().b[8][2]++,e))&&(A().b[8][3]++,p)&&(A().b[8][4]++,o.jsx("div",{className:"pb-4 pt-2",role:i,"aria-label":"comment",children:o.jsx(x,{comment:C,onChange:B,preview:e,dark:u,upside:!0,i18n:a,textSize:d,rolePrefix:i})}))),o.jsxs("div",{id:g[l],className:`
          relative
          min-h-40
          rounded
          border border-gray-400
          px-1
          pt-1
        `,children:[o.jsx("div",{className:"pl-2 pt-1 text-sm text-gray-500 dark:text-gray-300",children:(A().b[9][0]++,a&&(A().b[9][1]++,a.t(`score.${l}`)))}),o.jsx(I,{className:`
            box-border
            size-full
            resize-none
            px-2 py-1
            text-left
            ${S}
            leading-4
            text-gray-600
            outline-none
            ${A().b[10][0]++,y&&(A().b[10][1]++,"placeholder:text-xs")}
            placeholder:focus:text-transparent
            dark:bg-gray-900
            dark:text-gray-200
          `,minRows:3,placeholder:e?(A().b[11][0]++,""):(A().b[11][1]++,A().b[12][0]++,a&&(A().b[12][1]++,a.t(`msg.Input${l}`))),value:E,onChange:Q,readOnly:e,role:i,"aria-label":"textbox"}),(A().b[13][0]++,(s||(A().b[13][1]++,e&&(A().b[13][2]++,C.text)))&&(A().b[13][3]++,o.jsx(W,{className:`
              absolute
              ${l==="WinCondition"?(A().b[14][0]++,"-bottom-2 -right-1"):(A().b[14][1]++,"-right-1 -top-3")}
              rounded
            bg-white 
            text-gray-400 
              hover:cursor-pointer
              dark:bg-gray-900
            `,size:25,onClick:()=>{A().f[4]++,A().s[17]++,M(!p)},role:i,"aria-label":"comment-icon"})))]}),(A().b[15][0]++,l==="WinCondition"&&(A().b[15][1]++,s||(A().b[15][2]++,e))&&(A().b[15][3]++,p)&&(A().b[15][4]++,o.jsx("div",{className:"pt-4",role:i,"aria-label":"comment",children:o.jsx(x,{comment:C,onChange:B,preview:e,dark:u,i18n:a,textSize:d,rolePrefix:i})})))]})};A().s[18]++;h.__docgenInfo={description:"",methods:[],displayName:"ObjectiveBox",props:{goal:{required:!0,tsType:{name:"BaseModel"},description:""},label:{required:!0,tsType:{name:"union",raw:'"WinCondition" | "GainingGoal"',elements:[{name:"literal",value:'"WinCondition"'},{name:"literal",value:'"GainingGoal"'}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(objective: ObjectiveModel) => void",signature:{arguments:[{type:{name:"BaseModel"},name:"objective"}],return:{name:"void"}}},description:""},scoreKey:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"score"',computed:!1}},feedback:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},preview:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},dark:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},mobile:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},i18n:{required:!1,tsType:{name:"i18n"},description:""},textSize:{required:!1,tsType:{name:"union",raw:'"small" | "base" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"base"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"small"',computed:!1}}}};export{h as O};
//# sourceMappingURL=ObjectiveBox-DqMJMEJU.js.map
